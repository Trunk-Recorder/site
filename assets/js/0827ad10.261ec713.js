"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[203],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>k});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=a.createContext({}),c=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},u=function(e){var n=c(e.components);return a.createElement(i.Provider,{value:n},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=c(t),d=r,k=p["".concat(i,".").concat(d)]||p[d]||m[d]||s;return t?a.createElement(k,l(l({ref:n},u),{},{components:t})):a.createElement(k,l({ref:n},u))}));function k(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var s=t.length,l=new Array(s);l[0]=d;var o={};for(var i in n)hasOwnProperty.call(n,i)&&(o[i]=n[i]);o.originalType=e,o[p]="string"==typeof e?e:r,l[1]=o;for(var c=2;c<s;c++)l[c]=t[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},2253:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var a=t(7462),r=(t(7294),t(3905));const s={},l="Status json messages",o={unversionedId:"notes/STATUS-JSON",id:"notes/STATUS-JSON",title:"Status json messages",description:"The json message are sent over a websocket to the server specified by statusServer config entry.",source:"@site/docs/notes/STATUS-JSON.md",sourceDirName:"notes",slug:"/notes/STATUS-JSON",permalink:"/docs/notes/STATUS-JSON",draft:!1,editUrl:"https://github.com/TrunkRecorder/trunkrecorder.github.io/tree/main/docs/notes/STATUS-JSON.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Object Lifecycles and States in Trunk Recorder",permalink:"/docs/notes/STATES"}},i={},c=[{value:"config",id:"config",level:2},{value:"rates",id:"rates",level:2},{value:"systems",id:"systems",level:2},{value:"system",id:"system",level:2},{value:"calls_active",id:"calls_active",level:2},{value:"call_start",id:"call_start",level:2},{value:"call_end",id:"call_end",level:2},{value:"recorders",id:"recorders",level:2},{value:"recorder",id:"recorder",level:2}],u={toc:c},p="wrapper";function m(e){let{components:n,...t}=e;return(0,r.kt)(p,(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"status-json-messages"},"Status json messages"),(0,r.kt)("p",null,"The json message are sent over a websocket to the server specified by ",(0,r.kt)("strong",{parentName:"p"},"statusServer")," config entry."),(0,r.kt)("p",null,"The following message types are sent "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"config"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Contains the config information"),(0,r.kt)("li",{parentName:"ul"},"Sent when the socket is first connected"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"rates"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Contains message decode rates for all systems, non trucked systems will have a zero value"),(0,r.kt)("li",{parentName:"ul"},"Sent every 3 seconds"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"systems"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Contains a array of systems "),(0,r.kt)("li",{parentName:"ul"},"Sent when the socket is first connected"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"system"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Contains a single system"),(0,r.kt)("li",{parentName:"ul"},"Sent when a system changes, this happens when the sysid, wacn, or nac is first known"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"calls_active"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Contains an array of all calls that are currently active"),(0,r.kt)("li",{parentName:"ul"},"Sent when the socket is first connected, a call is started, or call is completed"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"call_start"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Contains a single call"),(0,r.kt)("li",{parentName:"ul"},"Sent when a call is started"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"call_end"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Contains a single call"),(0,r.kt)("li",{parentName:"ul"},"Sent when a call is completed"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"recorders"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Contains an array of all recorders"),(0,r.kt)("li",{parentName:"ul"},"Sent when he socket is first connected"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"recorder"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Contains a single recorder"),(0,r.kt)("li",{parentName:"ul"},"Sent when a record has changed")))),(0,r.kt)("h2",{id:"config"},"config"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"*not documented yet*\n")),(0,r.kt)("h2",{id:"rates"},"rates"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "rates": [\n        {\n            "id": "0",\n            "decoderate": "39.333332"\n        },\n        {\n            "id": "1",\n            "decoderate": "0"\n        }\n    ],\n    "type": "rates",\n    "instanceId": "",\n    "instanceKey": ""\n}\n')),(0,r.kt)("h2",{id:"systems"},"systems"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "systems": [\n        {\n            "id": "0",\n            "name": "SYS 1",\n            "type": "p25",\n            "sysid": "123",\n            "wacn": "456",\n            "nac": "789012"\n        },\n        {\n            "id": "1",\n            "name": "SYS 2",\n            "type": "conventionalP25",\n            "sysid": "0",\n            "wacn": "0",\n            "nac": "0"\n        }\n    ],\n    "type": "systems",\n    "instanceId": "",\n    "instanceKey": ""\n}\n')),(0,r.kt)("h2",{id:"system"},"system"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "system": {\n            "id": "0",\n            "name": "SYS 1",\n            "type": "p25",\n            "sysid": "123",\n            "wacn": "456",\n            "nac": "789012"\n        },\n    "type": "system",\n    "instanceId": "",\n    "instanceKey": ""\n}\n\n')),(0,r.kt)("h2",{id:"calls_active"},"calls_active"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "calls": [\n        {\n            "id": "1_1_1515574626",\n            "freq": "410000000",\n            "sysNum": "1",\n            "shortName": "SYS 2",\n            "talkgroup": "1",\n            "talkgrouptag": "TG 05",\n            "elasped": "46",\n            "length": "25.632000000000001",\n            "state": "1",\n            "phase2": "false",\n            "conventional": "true",\n            "encrypted": "false",\n            "emergency": "false",\n            "startTime": "1515574626",\n            "stopTime": "1515574626",\n            "freqList": "",\n            "recNum": "8",\n            "srcNum": "0",\n            "recState": "3",\n            "analog": "false",\n            "filename": "\\/home\\/\\/*****\\/\\/captures\\/SYS 2\\/2018\\/1\\/10\\/1-1515574626_4.1e+08.wav",\n            "statusfilename": "\\/home\\/\\/*****\\/\\/captures\\/SYS 2\\/2018\\/1\\/10\\/1-1515574626_4.1e+08.json"\n        },\n        {\n            "id": "0_1001_1515574637",\n            "freq": "419000000",\n            "sysNum": "0",\n            "shortName": "SYS 1",\n            "talkgroup": "1001",\n            "talkgrouptag": "TG 77",\n            "elasped": "35",\n            "length": "25.091999999999999",\n            "state": "1",\n            "phase2": "false",\n            "conventional": "false",\n            "encrypted": "false",\n            "emergency": "false",\n            "startTime": "1515574637",\n            "stopTime": "1515574637",\n            "freqList": [\n                {\n                    "freq": "419000000",\n                    "time": "1515574637"\n                }\n            ],\n            "recNum": "0",\n            "srcNum": "0",\n            "recState": "3",\n            "analog": "false",\n            "filename": "\\/home\\/*****\\/captures\\/SYS 1\\/2018\\/1\\/10\\/1001-1515574637_4.19e+08.wav",\n            "statusfilename": "\\/home\\/****\\/captures\\/SYS 1\\/2018\\/1\\/10\\/1001-1515574637_4.19e+08.json"\n        }\n    ],\n    "type": "calls_active",\n    "instanceId": "",\n    "instanceKey": ""\n}\n')),(0,r.kt)("h2",{id:"call_start"},"call_start"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "call": {\n        "id": "0_1001_1515575009",\n        "freq": "419000000",\n        "sysNum": "0",\n        "shortName": "SYS 1",\n        "talkgroup": "1001",\n        "talkgrouptag": "TG 77",\n        "elasped": "0",\n        "length": "0",\n        "state": "1",\n        "phase2": "false",\n        "conventional": "false",\n        "encrypted": "false",\n        "emergency": "false",\n        "startTime": "1515575009",\n        "stopTime": "1515575009",\n        "freqList": [\n            {\n                "freq": "419000000",\n                "time": "1515575009"\n            }\n        ],\n        "recNum": "0",\n        "srcNum": "0",\n        "recState": "3",\n        "analog": "false",\n        "filename": "\\/home\\/*****\\/captures\\/SYS 1\\/2018\\/1\\/10\\/1001-1515575009_4.19e+08.wav",\n        "statusfilename": "\\/home\\/*****\\/captures\\/SYS 1\\/2018\\/1\\/10\\/1001-1515575009_4.19e+08.json"\n    },\n    "type": "call_start",\n    "instanceId": "",\n    "instanceKey": ""\n}\n')),(0,r.kt)("h2",{id:"call_end"},"call_end"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "call": {\n        "id": "0_1001_1515575009",\n        "freq": "419000000",\n        "sysNum": "0",\n        "shortName": "SYS 1",\n        "talkgroup": "1001",\n        "talkgrouptag": "TG 77",\n        "elasped": "9",\n        "length": "3.4199999999999999",\n        "state": "2",\n        "phase2": "false",\n        "conventional": "false",\n        "encrypted": "false",\n        "emergency": "false",\n        "startTime": "1515575009",\n        "stopTime": "1515575018",\n        "freqList": [\n            {\n                "freq": "419000000",\n                "time": "1515575009"\n            }\n        ],\n        "recNum": "0",\n        "srcNum": "0",\n        "recState": "2",\n        "analog": "false",\n        "filename": "\\/home\\/*****\\/captures\\/SYS 1\\/2018\\/1\\/10\\/1001-1515575009_4.19e+08.wav",\n        "statusfilename": "\\/home\\/*****\\/captures\\/SYS 1\\/2018\\/1\\/10\\/1001-1515575009_4.19e+08.json"\n    },\n    "type": "call_end",\n    "instanceId": "",\n    "instanceKey": ""\n}\n')),(0,r.kt)("h2",{id:"recorders"},"recorders"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "recorders": [\n        {\n            "id": "0_0",\n            "type": "P25",\n            "srcNum": "0",\n            "recNum": "0",\n            "count": "6",\n            "duration": "76.859999999999999",\n            "state": "2",\n            "status_len": "0",\n            "status_error": "0",\n            "status_spike": "0"\n        },\n        {\n            "id": "0_1",\n            "type": "P25",\n            "srcNum": "0",\n            "recNum": "1",\n            "count": "1",\n            "duration": "10.44",\n            "state": "2",\n            "status_len": "0",\n            "status_error": "0",\n            "status_spike": "0"\n        },\n        {\n            "id": "0_2",\n            "type": "P25",\n            "srcNum": "0",\n            "recNum": "2",\n            "count": "0",\n            "duration": "1.5147569426240483e-314",\n            "state": "2",\n            "status_len": "0",\n            "status_error": "0",\n            "status_spike": "0"\n        },\n        {\n            "id": "0_3",\n            "type": "P25",\n            "srcNum": "0",\n            "recNum": "3",\n            "count": "0",\n            "duration": "1.515774288511435e-314",\n            "state": "2",\n            "status_len": "0",\n            "status_error": "0",\n            "status_spike": "0"\n        },\n        {\n            "id": "0_4",\n            "type": "P25",\n            "srcNum": "0",\n            "recNum": "4",\n            "count": "0",\n            "duration": "1.5147569426240483e-314",\n            "state": "2",\n            "status_len": "0",\n            "status_error": "0",\n            "status_spike": "0"\n        },\n        {\n            "id": "0_5",\n            "type": "P25",\n            "srcNum": "0",\n            "recNum": "5",\n            "count": "0",\n            "duration": "1.5147569426240483e-314",\n            "state": "2",\n            "status_len": "0",\n            "status_error": "0",\n            "status_spike": "0"\n        },\n        {\n            "id": "0_6",\n            "type": "P25",\n            "srcNum": "0",\n            "recNum": "6",\n            "count": "0",\n            "duration": "1.5147569426240483e-314",\n            "state": "2",\n            "status_len": "0",\n            "status_error": "0",\n            "status_spike": "0"\n        },\n        {\n            "id": "0_7",\n            "type": "P25",\n            "srcNum": "0",\n            "recNum": "7",\n            "count": "0",\n            "duration": "1.5147569426240483e-314",\n            "state": "2",\n            "status_len": "0",\n            "status_error": "0",\n            "status_spike": "0"\n        },\n        {\n            "id": "0_8",\n            "type": "P25C",\n            "srcNum": "0",\n            "recNum": "8",\n            "count": "0",\n            "duration": "76.319999999999993",\n            "state": "3",\n            "status_len": "0",\n            "status_error": "0",\n            "status_spike": "0"\n        }\n    ],\n    "type": "recorders",\n    "instanceId": "",\n    "instanceKey": ""\n}\n')),(0,r.kt)("h2",{id:"recorder"},"recorder"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "recorder": {\n        "id": "0_0",\n        "type": "P25",\n        "srcNum": "0",\n        "recNum": "0",\n        "count": "5",\n        "duration": "48.600000000000001",\n        "state": "3",\n        "status_len": "0",\n        "status_error": "0",\n        "status_spike": "0"\n    },\n    "type": "recorder",\n    "instanceId": "",\n    "instanceKey": ""\n}\n')))}m.isMDXComponent=!0}}]);